<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>进度条</title>
    <link rel="stylesheet" href="css.css" >
</head>
<body>
    <input type="number" value="0" />
    <div class="h3 header">
        当前等级：
        <span class="levelbg"><i></i>8</span>
    </div>
    <!-- 空隙隔断方式 -->
    <div class="prograss_one">
        <div class="long"></div>
        <div class="level"></div>
        <div class="levelnum">
            <div class="split">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="number">
                <ul>
                    <li class="one active">0</li>
                    <li>1</li>
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                    <li>5</li>
                    <li>6</li>
                    <li>7</li>
                    <li>8</li>
                    <li class="lowtwo">9</li>
                    <li class="low">10</li>
                </ul>
            </div>
        </div>
    </div>
    <!-- 圆点隔断方式 -->
    <div class="prograss_two">
        <div class="long"></div>
        <div class="level"></div>
        <div class="levelnum">
            <div class="split">
                <span style="margin-left: 75px;"></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="number">
                <ul>
                    <li class="one active">0</li>
                    <li>1</li>
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                    <li>5</li>
                    <li>6</li>
                    <li>7</li>
                    <li>8</li>
                    <li class="lowtwo">9</li>
                    <li class="low">10</li>
                </ul>
            </div>
        </div>
    </div>
    <script src="./jquery-1.11.3.js"></script>
    <script>
        let level=$('input').val()
        let html=`<i></i>`+level
        let activeDom=$('li').eq(level)
        console.log(activeDom)
        let bar_width=$('.level').width()
        bar_width=Number(level)+Number(level)*80
        $('.level').animate({
			"width": bar_width
		}, 500)
        $('.levelbg').html(html)
        activeDom.height(0).addClass('active').animate({
            "height":28
        },500).siblings().removeClass("active")
        
        $('input').change(()=>{
            level=$('input').val()
            if(level<0){
                level=0
                
            }else if(level>10){
                level=10
               
            }else{
                
            }
            bar_width=Number(level)+Number(level)*80
            $('.level').stop().animate({
                "width": bar_width
            }, 300)
            $('input').val(level)
            activeDom=$('ul li').eq(level)
            activeDom.height(0).stop().addClass('active').animate({
                "height":28
            },300).siblings().removeClass("active")
            /* activeDom.addClass('active').siblings().removeClass("active") */
            html=`<i></i>`+level
            $('.levelbg').html(html)
        })
        
        
    </script>
</body>
</html>